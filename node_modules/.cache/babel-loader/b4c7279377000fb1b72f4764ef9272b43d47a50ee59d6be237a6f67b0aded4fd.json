{"ast":null,"code":"import * as THREE from 'three';\nimport vertex from '@/shader/lineRader/vertexShader.glsl';\nimport fragment from '@/shader/lineRader/fragmentShader.glsl';\nimport gsap from 'gsap';\nexport default class LineRader {\n  constructor(radius = 1, position = {\n    x: 0,\n    z: 0\n  }, color = 0x0099FF) {\n    // 创建平面几何体\n    this.geometry = new THREE.PlaneGeometry(radius, radius);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: {\n        uTime: {\n          value: 0\n        },\n        uColor: {\n          value: new THREE.Color(color)\n        }\n      },\n      vertexShader: vertex,\n      fragmentShader: fragment,\n      transparent: true,\n      side: THREE.DoubleSide\n    });\n    this.mesh = new THREE.Mesh(this.geometry, this.material);\n    this.mesh.position.set(position.x, 0.3, position.z);\n    // 平面翻转\n    this.mesh.rotation.x = -Math.PI / 2;\n    gsap.to(this.material.uniforms.uTime, {\n      value: 1,\n      ease: 'none',\n      duration: 1,\n      repeat: -1\n    });\n  }\n  onRemove() {\n    this.mesh.remove();\n    this.mesh.removeFromParent();\n    this.mesh.material.dispose();\n    this.mesh.geometry.dispose();\n  }\n}","map":{"version":3,"names":["THREE","vertex","fragment","gsap","LineRader","constructor","radius","position","x","z","color","geometry","PlaneGeometry","material","ShaderMaterial","uniforms","uTime","value","uColor","Color","vertexShader","fragmentShader","transparent","side","DoubleSide","mesh","Mesh","set","rotation","Math","PI","to","ease","duration","repeat","onRemove","remove","removeFromParent","dispose"],"sources":["D:/vscodeDemo/threeDemo/threejs_smartcity/src/threeModal/mesh/lineRader.js"],"sourcesContent":["import * as THREE from 'three'\r\nimport vertex from '@/shader/lineRader/vertexShader.glsl'\r\nimport fragment from '@/shader/lineRader/fragmentShader.glsl'\r\nimport gsap from 'gsap'\r\nexport default class LineRader {\r\n  constructor(radius = 1 ,position = {x: 0, z: 0}, color = 0x0099FF) {\r\n    // 创建平面几何体\r\n    this.geometry = new THREE.PlaneGeometry(radius, radius)\r\n    this.material = new THREE.ShaderMaterial({\r\n      uniforms: {\r\n        uTime: {\r\n          value: 0\r\n        },\r\n        uColor: {\r\n          value: new THREE.Color(color)\r\n        }\r\n      },\r\n      vertexShader: vertex,\r\n      fragmentShader: fragment,\r\n      transparent: true,\r\n      side: THREE.DoubleSide\r\n    })\r\n\r\n    this.mesh = new THREE.Mesh(this.geometry, this.material)\r\n    this.mesh.position.set(position.x, 0.3, position.z)\r\n    // 平面翻转\r\n    this.mesh.rotation.x = - Math.PI / 2\r\n    gsap.to(this.material.uniforms.uTime, {\r\n      value: 1,\r\n      ease: 'none',\r\n      duration: 1,\r\n      repeat: -1\r\n    })\r\n  }\r\n  onRemove() {\r\n    this.mesh.remove()\r\n    this.mesh.removeFromParent()\r\n    this.mesh.material.dispose()\r\n    this.mesh.geometry.dispose()\r\n  }\r\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,MAAM,MAAM,sCAAsC;AACzD,OAAOC,QAAQ,MAAM,wCAAwC;AAC7D,OAAOC,IAAI,MAAM,MAAM;AACvB,eAAe,MAAMC,SAAS,CAAC;EAC7BC,WAAW,CAACC,MAAM,GAAG,CAAC,EAAEC,QAAQ,GAAG;IAACC,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAC,CAAC,EAAEC,KAAK,GAAG,QAAQ,EAAE;IACjE;IACA,IAAI,CAACC,QAAQ,GAAG,IAAIX,KAAK,CAACY,aAAa,CAACN,MAAM,EAAEA,MAAM,CAAC;IACvD,IAAI,CAACO,QAAQ,GAAG,IAAIb,KAAK,CAACc,cAAc,CAAC;MACvCC,QAAQ,EAAE;QACRC,KAAK,EAAE;UACLC,KAAK,EAAE;QACT,CAAC;QACDC,MAAM,EAAE;UACND,KAAK,EAAE,IAAIjB,KAAK,CAACmB,KAAK,CAACT,KAAK;QAC9B;MACF,CAAC;MACDU,YAAY,EAAEnB,MAAM;MACpBoB,cAAc,EAAEnB,QAAQ;MACxBoB,WAAW,EAAE,IAAI;MACjBC,IAAI,EAAEvB,KAAK,CAACwB;IACd,CAAC,CAAC;IAEF,IAAI,CAACC,IAAI,GAAG,IAAIzB,KAAK,CAAC0B,IAAI,CAAC,IAAI,CAACf,QAAQ,EAAE,IAAI,CAACE,QAAQ,CAAC;IACxD,IAAI,CAACY,IAAI,CAAClB,QAAQ,CAACoB,GAAG,CAACpB,QAAQ,CAACC,CAAC,EAAE,GAAG,EAAED,QAAQ,CAACE,CAAC,CAAC;IACnD;IACA,IAAI,CAACgB,IAAI,CAACG,QAAQ,CAACpB,CAAC,GAAG,CAAEqB,IAAI,CAACC,EAAE,GAAG,CAAC;IACpC3B,IAAI,CAAC4B,EAAE,CAAC,IAAI,CAAClB,QAAQ,CAACE,QAAQ,CAACC,KAAK,EAAE;MACpCC,KAAK,EAAE,CAAC;MACRe,IAAI,EAAE,MAAM;MACZC,QAAQ,EAAE,CAAC;MACXC,MAAM,EAAE,CAAC;IACX,CAAC,CAAC;EACJ;EACAC,QAAQ,GAAG;IACT,IAAI,CAACV,IAAI,CAACW,MAAM,EAAE;IAClB,IAAI,CAACX,IAAI,CAACY,gBAAgB,EAAE;IAC5B,IAAI,CAACZ,IAAI,CAACZ,QAAQ,CAACyB,OAAO,EAAE;IAC5B,IAAI,CAACb,IAAI,CAACd,QAAQ,CAAC2B,OAAO,EAAE;EAC9B;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}