{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.typed-array.to-reversed.js\";\nimport \"core-js/modules/esnext.typed-array.to-sorted.js\";\nimport \"core-js/modules/esnext.typed-array.with.js\";\nimport { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport * as THREE from 'three';\nimport scene from '@/threeModal/scene';\nimport eventBus from '@/utils/eventBus';\nimport gsap from 'gsap';\nimport { CSS3DObject } from 'three/examples/jsm/renderers/CSS3DRenderer';\nimport CameraModule from '@/threeModal/camera';\nimport flyFragmentShader from '@/shader/fly/flyFragmentShader.glsl';\nimport flyVertexShader from '@/shader/fly/flyVertexShader.glsl';\n// import modityCityMaterial from '../modity/modityCityMaterial'\n// import FlyLine from './flyLine'\n// import FlyLineShader from './flyLineShader'\n// import CreateMeshLine from './createMeshLine'\n// import LineWall from './lineWall'\n// import LineRader from './lineRader'\n// import Alarm from './alarm'\nexport default class CreateCity {\n  constructor() {\n    let daoLoader = new DRACOLoader();\n    let loader = new GLTFLoader();\n    daoLoader.setDecoderPath('/glb/');\n    daoLoader.setDecoderConfig({\n      type: 'js'\n    });\n    daoLoader.preload();\n    loader.setDRACOLoader(daoLoader);\n    // 储存模型\n    this.modelArray = [];\n    this.firstFloor; // 一楼\n    this.secondFloor; // 二楼\n    this.default; // 大楼\n    this.flyModel; // 飞机\n    const objArrName = ['科技展台', '员工办公室', '接待室', '会议室', '设计总监办公室', '总经理办公室'];\n    this.obj3dArray = [];\n    loader.load('/glb/工厂一楼.glb', gltf => {\n      this.firstFloor = gltf.scene;\n      this.firstFloor.traverse(mesh => {\n        if (mesh.isMesh) {\n          mesh.material.emissiveIntensity = 15;\n        }\n      });\n      this.firstFloorNone();\n      this.modelArray.push({\n        name: 'firstFloor',\n        mesh: this.firstFloor\n      });\n      scene.add(this.firstFloor);\n    });\n    loader.load('/glb/工厂二楼.glb', gltf => {\n      this.secondFloor = gltf.scene;\n      this.secondFloor.traverse(mesh => {\n        if (mesh.isMesh) {\n          mesh.material.emissiveIntensity = 15;\n        }\n        if (objArrName.indexOf(mesh.name) !== -1) {\n          const objMesh = this.cerateTag(mesh);\n          this.secondFloor.add(objMesh);\n          this.obj3dArray.push(objMesh);\n        }\n      });\n      this.secondFloor.position.setY(30);\n      this.secondFloorTrue();\n      this.modelArray.push({\n        name: 'secondFloor',\n        mesh: this.secondFloor\n      });\n      scene.add(this.secondFloor);\n    });\n    // 加载大楼模型\n    loader.load('/glb/工厂大楼.glb', gltf => {\n      this.default = gltf.scene;\n      this.defaultNone();\n      this.modelArray.push({\n        name: 'default',\n        mesh: this.default\n      });\n      scene.add(this.default);\n    });\n\n    // 加载飞机模型\n    loader.load('/glb/fly.glb', gltf => {\n      this.flyModel = gltf.scene.children[0];\n      this.flyModel.scale.set(0.2, 0.2, 0.2);\n      this.flyModel.position.set(16, 35, 40);\n      this.flyModel.traverse(mesh => {\n        mesh.position2 = mesh.position.clone();\n      });\n      console.log(this.flyModel);\n      scene.add(this.flyModel);\n      this.clickFly();\n    });\n    this.init();\n  }\n  // 点击飞机后分解  使用射线碰撞\n  clickFly() {\n    const raycaster = new THREE.Raycaster();\n    // 鼠标二维对象\n    const mouse = new THREE.Vector2();\n\n    // 监听点击飞机物体\n    window.addEventListener('click', e => {\n      const event = e;\n      mouse.x = event.clientX / window.innerWidth * 2 - 1;\n      mouse.y = -(event.clientY / window.innerHeight * 2 - 1);\n      raycaster.setFromCamera(mouse, CameraModule.activeCamera);\n      console.log(this.flyModel);\n      let result = raycaster.intersectObject(this.flyModel);\n      console.log(result);\n      if (result.length > 0) {\n        this.allNone();\n      }\n    });\n  }\n  // 创建标签\n  cerateTag(mesh) {\n    const tag = document.createElement('div');\n    tag.className = 'tagDiv';\n    tag.innerHTML = `\n    <div class='objContent'>\n      <h4>${mesh.name}</h4>\n      <p>湿度：86%</p>\n      <p>温度：23℃</p>\n    </div> \n    `;\n    const object3d = new CSS3DObject(tag);\n    object3d.position.copy(mesh.position);\n    object3d.scale.set(0.2, 0.2, 0.2);\n    return object3d;\n  }\n  flyNone() {\n    this.flyModel.visible = false;\n  }\n  flyTrue() {\n    this.flyModel.visible = true;\n  }\n  // 一楼隐藏\n  firstFloorNone() {\n    this.firstFloor.visible = false;\n  }\n  // 二楼隐藏\n  secondFloorNone() {\n    // this.flyNone()\n    this.secondFloor.visible = false;\n    this.obj3dArray.forEach(tag => tag.visible = false);\n  }\n  // 大楼隐藏\n  defaultNone() {\n    this.default.visible = false;\n  }\n  // 一楼显示\n  firstFloorTrue() {\n    this.firstFloor.visible = true;\n  }\n  // 二楼显示\n  secondFloorTrue() {\n    // this.flyTrue()\n    this.secondFloor.visible = true;\n    this.obj3dArray.forEach(tag => tag.visible = true);\n  }\n  // 大楼显示\n  defaultTrue() {\n    this.default.visible = true;\n  }\n  // 全部显示\n  allTrue() {\n    // 一楼显示\n    this.firstFloorTrue();\n    // 二楼显示\n    this.secondFloorTrue();\n    // 大楼显示\n    this.defaultTrue();\n  }\n  // 全部隐藏\n  allNone() {\n    // 一楼隐藏\n    this.firstFloorNone();\n    // 二楼隐藏\n    this.secondFloorNone();\n    // 大楼隐藏\n    this.defaultNone();\n  }\n  // 初始化\n  initFloor() {\n    this.secondFloor.position.setY(30);\n    this.flyModel.position.setY(35);\n    this.firstFloor.position.setY(0);\n    this.default.position.setY(0);\n  }\n  init() {\n    eventBus.on('showDefault', () => {\n      this.initFloor();\n      this.allNone();\n      this.flyNone();\n      this.defaultTrue();\n    });\n    eventBus.on('showFirstFloor', () => {\n      this.initFloor();\n      this.allNone();\n      this.flyNone();\n      this.firstFloor.position.setY(0);\n      this.firstFloorTrue();\n    });\n    eventBus.on('showSecondFloor', () => {\n      this.initFloor();\n      this.allNone();\n      this.flyNone();\n      this.secondFloor.position.setY(30);\n      this.flyModel.position.setY(35);\n      this.secondFloorTrue();\n      this.flyTrue();\n    });\n    eventBus.on('snFloorTrue', () => {\n      this.allTrue();\n      this.flyTrue();\n      gsap.to(this.default.position, {\n        y: 140,\n        duration: 1\n      });\n      gsap.to(this.flyModel.position, {\n        y: 75,\n        duration: 1,\n        delay: 1\n      });\n      gsap.to(this.secondFloor.position, {\n        y: 70,\n        duration: 1,\n        delay: 1\n      });\n    });\n    eventBus.on('snFloorNone', () => {\n      gsap.to(this.default.position, {\n        y: 0,\n        duration: 1,\n        delay: 1,\n        onComplete: () => {\n          this.flyNone();\n          this.secondFloorNone();\n        }\n      });\n      gsap.to(this.flyModel.position, {\n        y: 35,\n        duration: 1\n      });\n      gsap.to(this.secondFloor.position, {\n        y: 30,\n        duration: 1\n      });\n    });\n    let positionCube = [];\n    eventBus.on('toggleFly', () => {\n      // 获取立方体点的位置\n      if (positionCube.length > 0) return;\n      this.allNone();\n      for (let i = 0; i < 4; i++) {\n        for (let j = 0; j < 4; j++) {\n          positionCube.push(new THREE.Vector3(i * 2 - 2, j * 2 - 2, 0));\n        }\n      }\n      let n = 0;\n      // 循环飞机子元素赋予位置\n      console.log(this.flyModel);\n      this.flyModel.traverse(mesh => {\n        positionCube[n].multiplyScalar(10);\n        gsap.to(mesh.position, {\n          x: '+=' + positionCube[n].x,\n          y: '+=' + positionCube[n].y,\n          z: '+=' + positionCube[n].z,\n          duration: 1\n        });\n        n++;\n      });\n    });\n    eventBus.on('recoverFly', () => {\n      positionCube = [];\n      this.flyModel.traverse(mesh => {\n        gsap.to(mesh.position, {\n          x: mesh.position2.x,\n          y: mesh.position2.y,\n          z: mesh.position2.z,\n          duration: 1\n        });\n      });\n    });\n    eventBus.on('flyPoint', () => {\n      this.ceratePoint(this.flyModel);\n    });\n    eventBus.on('flyBoob', () => {\n      this.boob();\n    });\n    eventBus.on('pointRecver', () => {\n      this.back();\n    });\n  }\n  back() {\n    this.flyPontGroup.traverse(child => {\n      if (child.isPoints) {\n        gsap.to(child.material.uniforms.uTime, {\n          value: 0,\n          duration: 3\n        });\n      }\n    });\n  }\n  boob() {\n    this.flyPontGroup.traverse(child => {\n      if (child.isPoints) {\n        let positionArray = new Float32Array(child.geometry.attributes.position.count * 3);\n        for (let index = 0; index < child.geometry.attributes.position.count; index++) {\n          positionArray[index * 3 + 0] = (Math.random() * 2 - 2) * 10;\n          positionArray[index * 3 + 1] = (Math.random() * 2 - 2) * 10;\n          positionArray[index * 3 + 2] = (Math.random() * 2 - 2) * 10;\n        }\n        child.geometry.setAttribute('aPosition', new THREE.BufferAttribute(positionArray, 3));\n        gsap.to(child.material.uniforms.uTime, {\n          value: 10,\n          duration: 3\n        });\n      }\n    });\n  }\n  ceratePoint(flyMesh) {\n    if (!this.flyPontGroup) {\n      this.flyPontGroup = this.transforms(flyMesh);\n      scene.add(this.flyPontGroup);\n    } else {\n      scene.remove();\n    }\n  }\n  transforms(flyMesh) {\n    const loaders = new THREE.TextureLoader();\n    const texture = loaders.load('./particles/3.png');\n    const group = new THREE.Group();\n    function initPoints(flyMesh, newFlyMesh) {\n      if (flyMesh.children.length > 0) {\n        flyMesh.children.forEach(child => {\n          if (child.isMesh) {\n            console.log(child);\n            const color = new THREE.Color(Math.random(), Math.random(), Math.random());\n            const material = new THREE.ShaderMaterial({\n              uniforms: {\n                uColor: {\n                  value: color\n                },\n                uTexture: {\n                  value: texture\n                },\n                uTime: {\n                  value: 0\n                }\n              },\n              vertexShader: flyVertexShader,\n              fragmentShader: flyFragmentShader,\n              transparent: true,\n              depthTest: false\n            });\n            const point = new THREE.Points(child.geometry, material);\n            point.position.copy(child.position);\n            point.scale.copy(child.scale);\n            point.rotation.copy(child.rotation);\n            newFlyMesh.add(point);\n            console.log(newFlyMesh);\n            initPoints(child, point);\n          }\n        });\n      }\n    }\n    initPoints(flyMesh, group);\n    console.log(group);\n    return group;\n  }\n}","map":{"version":3,"names":["DRACOLoader","GLTFLoader","THREE","scene","eventBus","gsap","CSS3DObject","CameraModule","flyFragmentShader","flyVertexShader","CreateCity","constructor","daoLoader","loader","setDecoderPath","setDecoderConfig","type","preload","setDRACOLoader","modelArray","firstFloor","secondFloor","default","flyModel","objArrName","obj3dArray","load","gltf","traverse","mesh","isMesh","material","emissiveIntensity","firstFloorNone","push","name","add","indexOf","objMesh","cerateTag","position","setY","secondFloorTrue","defaultNone","children","scale","set","position2","clone","console","log","clickFly","init","raycaster","Raycaster","mouse","Vector2","window","addEventListener","e","event","x","clientX","innerWidth","y","clientY","innerHeight","setFromCamera","activeCamera","result","intersectObject","length","allNone","tag","document","createElement","className","innerHTML","object3d","copy","flyNone","visible","flyTrue","secondFloorNone","forEach","firstFloorTrue","defaultTrue","allTrue","initFloor","on","to","duration","delay","onComplete","positionCube","i","j","Vector3","n","multiplyScalar","z","ceratePoint","boob","back","flyPontGroup","child","isPoints","uniforms","uTime","value","positionArray","Float32Array","geometry","attributes","count","index","Math","random","setAttribute","BufferAttribute","flyMesh","transforms","remove","loaders","TextureLoader","texture","group","Group","initPoints","newFlyMesh","color","Color","ShaderMaterial","uColor","uTexture","vertexShader","fragmentShader","transparent","depthTest","point","Points","rotation"],"sources":["D:/hhh/dom/threejs_factory/src/threeModal/mesh/createCity.js"],"sourcesContent":["import { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader'\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\r\nimport * as THREE from 'three'\r\nimport scene from '@/threeModal/scene'\r\nimport eventBus from '@/utils/eventBus'\r\nimport gsap from 'gsap'\r\nimport { CSS3DObject } from 'three/examples/jsm/renderers/CSS3DRenderer'\r\nimport CameraModule from '@/threeModal/camera'\r\nimport flyFragmentShader from '@/shader/fly/flyFragmentShader.glsl'\r\nimport flyVertexShader from '@/shader/fly/flyVertexShader.glsl'\r\n// import modityCityMaterial from '../modity/modityCityMaterial'\r\n// import FlyLine from './flyLine'\r\n// import FlyLineShader from './flyLineShader'\r\n// import CreateMeshLine from './createMeshLine'\r\n// import LineWall from './lineWall'\r\n// import LineRader from './lineRader'\r\n// import Alarm from './alarm'\r\nexport default class CreateCity {\r\n  constructor() {\r\n    let daoLoader = new DRACOLoader()\r\n    let loader = new GLTFLoader()\r\n    daoLoader.setDecoderPath('/glb/')\r\n    daoLoader.setDecoderConfig({ type: 'js' })\r\n    daoLoader.preload()\r\n    loader.setDRACOLoader(daoLoader)\r\n    // 储存模型\r\n    this.modelArray = []\r\n    this.firstFloor // 一楼\r\n    this.secondFloor // 二楼\r\n    this.default // 大楼\r\n    this.flyModel // 飞机\r\n    const objArrName = [\r\n      '科技展台',\r\n      '员工办公室',\r\n      '接待室',\r\n      '会议室',\r\n      '设计总监办公室',\r\n      '总经理办公室'\r\n    ]\r\n    this.obj3dArray = []\r\n    loader.load('/glb/工厂一楼.glb', gltf => {\r\n      this.firstFloor = gltf.scene\r\n      this.firstFloor.traverse(mesh => {\r\n        if (mesh.isMesh) {\r\n          mesh.material.emissiveIntensity = 15\r\n        }\r\n      })\r\n      this.firstFloorNone()\r\n      this.modelArray.push({ name: 'firstFloor', mesh: this.firstFloor })\r\n      scene.add(this.firstFloor)\r\n    })\r\n    loader.load('/glb/工厂二楼.glb', gltf => {\r\n      this.secondFloor = gltf.scene\r\n      this.secondFloor.traverse(mesh => {\r\n        if (mesh.isMesh) {\r\n          mesh.material.emissiveIntensity = 15\r\n        }\r\n        if (objArrName.indexOf(mesh.name) !== -1) {\r\n          const objMesh = this.cerateTag(mesh)\r\n          this.secondFloor.add(objMesh)\r\n          this.obj3dArray.push(objMesh)\r\n        }\r\n      })\r\n\r\n      this.secondFloor.position.setY(30)\r\n      this.secondFloorTrue()\r\n      this.modelArray.push({ name: 'secondFloor', mesh: this.secondFloor })\r\n      scene.add(this.secondFloor)\r\n    })\r\n    // 加载大楼模型\r\n    loader.load('/glb/工厂大楼.glb', gltf => {\r\n      this.default = gltf.scene\r\n      this.defaultNone()\r\n      this.modelArray.push({ name: 'default', mesh: this.default })\r\n      scene.add(this.default)\r\n    })\r\n\r\n    // 加载飞机模型\r\n    loader.load('/glb/fly.glb', gltf => {\r\n      this.flyModel = gltf.scene.children[0]\r\n      this.flyModel.scale.set(0.2, 0.2, 0.2)\r\n      this.flyModel.position.set(16, 35, 40)\r\n      this.flyModel.traverse(mesh => {\r\n        mesh.position2 = mesh.position.clone()\r\n      })\r\n      console.log(this.flyModel)\r\n      scene.add(this.flyModel)\r\n      this.clickFly()\r\n    })\r\n\r\n    this.init()\r\n  }\r\n  // 点击飞机后分解  使用射线碰撞\r\n  clickFly() {\r\n    const raycaster = new THREE.Raycaster()\r\n    // 鼠标二维对象\r\n    const mouse = new THREE.Vector2()\r\n\r\n    // 监听点击飞机物体\r\n    window.addEventListener('click', e => {\r\n      const event = e\r\n      mouse.x = (event.clientX / window.innerWidth) * 2 - 1\r\n      mouse.y = -((event.clientY / window.innerHeight) * 2 - 1)\r\n      raycaster.setFromCamera(mouse, CameraModule.activeCamera)\r\n      console.log(this.flyModel)\r\n      let result = raycaster.intersectObject(this.flyModel)\r\n      console.log(result);\r\n      if (result.length > 0) {\r\n        this.allNone()\r\n      }\r\n    })\r\n  }\r\n  // 创建标签\r\n  cerateTag(mesh) {\r\n    const tag = document.createElement('div')\r\n    tag.className = 'tagDiv'\r\n    tag.innerHTML = `\r\n    <div class='objContent'>\r\n      <h4>${mesh.name}</h4>\r\n      <p>湿度：86%</p>\r\n      <p>温度：23℃</p>\r\n    </div> \r\n    `\r\n    const object3d = new CSS3DObject(tag)\r\n    object3d.position.copy(mesh.position)\r\n    object3d.scale.set(0.2, 0.2, 0.2)\r\n    return object3d\r\n  }\r\n  flyNone() {\r\n    this.flyModel.visible = false\r\n  }\r\n  flyTrue() {\r\n    this.flyModel.visible = true\r\n  }\r\n  // 一楼隐藏\r\n  firstFloorNone() {\r\n    this.firstFloor.visible = false\r\n  }\r\n  // 二楼隐藏\r\n  secondFloorNone() {\r\n    // this.flyNone()\r\n    this.secondFloor.visible = false\r\n    this.obj3dArray.forEach(tag => (tag.visible = false))\r\n  }\r\n  // 大楼隐藏\r\n  defaultNone() {\r\n    this.default.visible = false\r\n  }\r\n  // 一楼显示\r\n  firstFloorTrue() {\r\n    this.firstFloor.visible = true\r\n  }\r\n  // 二楼显示\r\n  secondFloorTrue() {\r\n    // this.flyTrue()\r\n    this.secondFloor.visible = true\r\n    this.obj3dArray.forEach(tag => (tag.visible = true))\r\n  }\r\n  // 大楼显示\r\n  defaultTrue() {\r\n    this.default.visible = true\r\n  }\r\n  // 全部显示\r\n  allTrue() {\r\n    // 一楼显示\r\n    this.firstFloorTrue()\r\n    // 二楼显示\r\n    this.secondFloorTrue()\r\n    // 大楼显示\r\n    this.defaultTrue()\r\n  }\r\n  // 全部隐藏\r\n  allNone() {\r\n    // 一楼隐藏\r\n    this.firstFloorNone()\r\n    // 二楼隐藏\r\n    this.secondFloorNone()\r\n    // 大楼隐藏\r\n    this.defaultNone()\r\n  }\r\n  // 初始化\r\n  initFloor() {\r\n    this.secondFloor.position.setY(30)\r\n    this.flyModel.position.setY(35)\r\n    this.firstFloor.position.setY(0)\r\n    this.default.position.setY(0)\r\n  }\r\n  init() {\r\n    eventBus.on('showDefault', () => {\r\n      this.initFloor()\r\n      this.allNone()\r\n      this.flyNone()\r\n      this.defaultTrue()\r\n    })\r\n    eventBus.on('showFirstFloor', () => {\r\n      this.initFloor()\r\n      this.allNone()\r\n      this.flyNone()\r\n      this.firstFloor.position.setY(0)\r\n      this.firstFloorTrue()\r\n    })\r\n    eventBus.on('showSecondFloor', () => {\r\n      this.initFloor()\r\n      this.allNone()\r\n      this.flyNone()\r\n      this.secondFloor.position.setY(30)\r\n      this.flyModel.position.setY(35)\r\n      this.secondFloorTrue()\r\n      this.flyTrue()\r\n    })\r\n    eventBus.on('snFloorTrue', () => {\r\n      this.allTrue()\r\n      this.flyTrue()\r\n      gsap.to(this.default.position, {\r\n        y: 140,\r\n        duration: 1\r\n      })\r\n      gsap.to(this.flyModel.position, {\r\n        y: 75,\r\n        duration: 1,\r\n        delay: 1\r\n      })\r\n      gsap.to(this.secondFloor.position, {\r\n        y: 70,\r\n        duration: 1,\r\n        delay: 1\r\n      })\r\n    })\r\n    eventBus.on('snFloorNone', () => {\r\n      gsap.to(this.default.position, {\r\n        y: 0,\r\n        duration: 1,\r\n        delay: 1,\r\n        onComplete: () => {\r\n          this.flyNone()\r\n          this.secondFloorNone()\r\n        }\r\n      })\r\n      gsap.to(this.flyModel.position, {\r\n        y: 35,\r\n        duration: 1\r\n      })\r\n      gsap.to(this.secondFloor.position, {\r\n        y: 30,\r\n        duration: 1\r\n      })\r\n    })\r\n    let positionCube = []\r\n    eventBus.on('toggleFly', () => {\r\n      // 获取立方体点的位置\r\n      if (positionCube.length > 0) return\r\n      this.allNone()\r\n      for (let i = 0; i < 4; i++) {\r\n        for (let j = 0; j < 4; j++) {\r\n          positionCube.push(new THREE.Vector3(i * 2 - 2, j * 2 - 2, 0))\r\n        }\r\n      }\r\n      let n = 0\r\n      // 循环飞机子元素赋予位置\r\n      console.log(this.flyModel)\r\n      this.flyModel.traverse(mesh => {\r\n        positionCube[n].multiplyScalar(10)\r\n        gsap.to(mesh.position, {\r\n          x: '+=' + positionCube[n].x,\r\n          y: '+=' + positionCube[n].y,\r\n          z: '+=' + positionCube[n].z,\r\n          duration: 1\r\n        })\r\n        n++\r\n      })\r\n\r\n\r\n    })\r\n\r\n    eventBus.on('recoverFly', () => {\r\n      positionCube = []\r\n      this.flyModel.traverse(mesh => {\r\n        gsap.to(mesh.position, {\r\n          x: mesh.position2.x,\r\n          y: mesh.position2.y,\r\n          z: mesh.position2.z,\r\n          duration: 1\r\n        })\r\n      })\r\n    })\r\n\r\n    eventBus.on('flyPoint', () => {\r\n      this.ceratePoint(this.flyModel)\r\n    })\r\n\r\n    eventBus.on('flyBoob', () => {\r\n      this.boob()\r\n    })\r\n\r\n    eventBus.on('pointRecver', () => {\r\n      this.back()\r\n    })\r\n  }\r\n  back() {\r\n    this.flyPontGroup.traverse(child => {\r\n      if(child.isPoints) {\r\n        gsap.to(child.material.uniforms.uTime, {\r\n          value: 0,\r\n          duration: 3\r\n        })\r\n      }\r\n    })\r\n  }\r\n  boob() {\r\n    this.flyPontGroup.traverse(child => {\r\n      if(child.isPoints) {\r\n        let positionArray = new Float32Array(child.geometry.attributes.position.count * 3)\r\n        for (let index = 0; index < child.geometry.attributes.position.count; index++) {\r\n          positionArray[index * 3 + 0 ] = (Math.random() * 2 - 2) * 10\r\n          positionArray[index * 3 + 1 ] = (Math.random() * 2 - 2) * 10\r\n          positionArray[index * 3 + 2 ] = (Math.random() * 2 - 2) * 10\r\n          \r\n        }\r\n        child.geometry.setAttribute('aPosition', new THREE.BufferAttribute(positionArray, 3))\r\n        gsap.to(child.material.uniforms.uTime, {\r\n          value: 10,\r\n          duration: 3\r\n        })\r\n      }\r\n    })\r\n  }\r\n  ceratePoint(flyMesh) {\r\n    if(!this.flyPontGroup){\r\n      this.flyPontGroup = this.transforms(flyMesh)\r\n      scene.add(this.flyPontGroup)\r\n    } else {\r\n      scene.remove()\r\n    }\r\n  }\r\n\r\n  transforms(flyMesh) {\r\n    const loaders = new THREE.TextureLoader()\r\n    const texture = loaders.load('./particles/3.png')\r\n    const group = new THREE.Group()\r\n\r\n    function initPoints(flyMesh, newFlyMesh) {\r\n      if(flyMesh.children.length > 0) {\r\n        flyMesh.children.forEach(child => {\r\n          if(child.isMesh) {\r\n            console.log(child)\r\n            const color = new THREE.Color(Math.random(), Math.random(), Math.random())\r\n\r\n            const material = new THREE.ShaderMaterial({\r\n              uniforms: {\r\n                uColor: {value: color},\r\n                uTexture: {value: texture},\r\n                uTime: {\r\n                  value: 0\r\n                }\r\n              },\r\n              vertexShader: flyVertexShader,\r\n              fragmentShader: flyFragmentShader,\r\n              transparent: true,\r\n              depthTest: false\r\n            })\r\n            const point = new THREE.Points(child.geometry, material)\r\n            point.position.copy(child.position)\r\n            point.scale.copy(child.scale)\r\n            point.rotation.copy(child.rotation)\r\n            newFlyMesh.add(point)\r\n            console.log(newFlyMesh)\r\n            initPoints(child, point)\r\n          }\r\n        })\r\n      }\r\n      \r\n    }\r\n    initPoints(flyMesh, group)\r\n    console.log(group)\r\n    return group\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}